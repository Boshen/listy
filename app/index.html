<!doctype html>
<html lang="en" ng-app="listy">

  <head>
    <meta charset="utf-8">
    <title>Listy</title>
    <link href='http://fonts.googleapis.com/css?family=Ubuntu:300,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="styles/main.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.3/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
  </head>

  <body ng-class="{ 'loginScreen': !authData  }" ng-controller="ListyCtrl">
    
    <!-------- Login Screen -------->
    <div ng-if="!authData">
      <section class="home-screen">
        <img class="home-screen-logo" src="images/logo.png">
        <button class="login" ng-click="login()">Login with Google</button>
      </section>
    </div>


    <!-------- Main App -------->
    <nav ng-if="authData">
      <img class="header-logo" src="images/logo.png" />
      <div class="header-login" >
        <a>Hello {{authData.google.displayName}}</a>
        <button class="logout" ng-click="logout()">Logout</button>
      </div>
    </nav>

    <main class="todo-main" ng-if="authData">
      <section class="todo-section">
        <ul>
          <li class="todo-input-area">
            <form ng-submit="addTodo()">
              <div class="list-input">
                <input placeholder='I need to...' ng-model="newTodo.text"></input>
              </div>
            </form>
          </li>
          <li class="todo-text-area" ng-repeat="todo in todos track by todo.$id">
            <div class="todo-text-container">
              <span ng-click="toggle = !toggle; checked = !checked" ng-class="{'checked' : toggle}" class="todo-check"></span>
              <textarea ng-class="{'blue' : checked}" msd-elastic rows="1" class="todo-item msd-elastic" ng-model="todo.text" ng-change="todos.$save(todo)"></textarea>
              <span class="todo-delete" ng-click="todos.$remove(todo)"></span>
            </div>
          </li>
        </ul>
      </section>
    </main>

    <script src="elastic.js"></script>
    <script src="app.js"></script>
    
  </body>

</html>
